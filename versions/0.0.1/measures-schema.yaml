id: https://github.com/CMSgov/mips-data-format/versions/0.0.1/measures-schema.yaml
$schema: http://json-schema.org/schema#
type: array
items: { $ref: #/definitions/measure }

definitions:
  measure:
    type: object
    properties:
      measureId: { type: string }
      title: { type: string }
      description: { type: string }
      category: { enum: [ia, quality, aci, cost] }
      measureSets:
        type: array
        items:
          oneOf: [{ $ref: #/definitions/measureSet }]
      metricType: { enum: [boolean, proportion, performanceRatio, continuous] }
      firstPerformanceYear: { type: integer }
      lastPerformanceYear: { type: integer }
    required: [measureId, title, description, category, metricType, firstPerformanceYear]
    oneOf:
      - { $ref: #/definitions/iaMeasure }

  iaMeasure:
    type: object
    properties:
      category: { enum: [ia] }
      weight: { enum: [medium, high] }
      subcategoryId:
        oneOf: [{ $ref: #/definitions/subcategoryIds }]
    required: [weight, subcategoryId]

  # TODO (Mari): add remaining measure sets
  measureSet:
    enum:
      - generalSurgery

  # TODO (Mari) : If these subcategory names change, we will need a lookup
  # table that maps IDs to names.
  subcategoryIds:
    enum:
      - achievingHealthEquity
      - behavioralAndMentalHealth
      - beneficiaryEngagement
      - careCoordination
      - emergencyResponseAndPreparedness
      - expandedPracticeAccess
      - patientSafetyAndPracticeAssessment
      - populationManagement
